package com.revworkforce.util;

public class EmailValidator {

    public static void validate(String email) throws Exception {

        if (email == null || email.trim().isEmpty())
            throw new Exception("Email cannot be empty");

        if (email.contains(" "))
            throw new Exception("Email cannot contain spaces");

        if (!email.contains("@"))
            throw new Exception("Invalid email format");

        if (!(email.endsWith("@gmail.com") ||
              email.endsWith("@yahoo.com") ||
              email.endsWith("@outlook.com")))
            throw new Exception(
                "Email must end with gmail.com, yahoo.com or outlook.com");

        String regex =
            "^[a-zA-Z0-9._%+-]+@(gmail|yahoo|outlook)\\.com$";

        if (!email.matches(regex))
            throw new Exception("Invalid email format");
    }
}
