package com.revworkforce.service;

import com.revworkforce.dao.LeaveDAO;

public class LeaveService {

    private LeaveDAO dao = new LeaveDAO();

    public void viewMyTeam(int managerId) throws Exception {
        dao.getTeamMembers(managerId);
    }

    public void viewTeamLeaveRequests(int managerId) throws Exception {
        dao.getTeamLeaveRequests(managerId);
    }

    public void approveOrRejectLeave(int leaveId,
                                     String status,
                                     String comment,
                                     int empId) throws Exception {

        if (!status.equals("APPROVED") && !status.equals("REJECTED")) {
            throw new Exception("Invalid status");
        }

        dao.updateLeaveStatus(leaveId, status, comment, empId);
    }

    public void viewTeamCalendar(int managerId) throws Exception {
        dao.getTeamLeaveCalendar(managerId);
    }

    public void viewTeamLeaveBalance(int empId) throws Exception {
        dao.getTeamLeaveBalance(empId);
    }
}
